// define card wrapper
.card-group {
	// define cards
	.card {
		position: relative;
		display: block;
		margin: 32px auto;
		box-sizing: content-box;
		padding: 24px 44px;
		border-radius: 12px;
		border: 2px solid transparent;
		background-color: #ffffff;
		color: $text;
		box-shadow: $box-shadow;
	}

	// define styles for unique groups
	&.side-effect-cards {
		padding: 0;

		.card {
			width: 70%;
			background-color: #ffffff;

			input[type="checkbox"] {
				position: absolute;
				width: 1px;
				height: 1px;
				clip: rect(0, 0, 0, 0);
				clip: rect(0 0 0 0);
				margin: -1px;
				overflow: hidden;
				white-space: nowrap;

				+ .card-label {
					display: inline-block;
					position: relative;
					box-shadow: inset 0 -2px 0 0 transparent;
					word-break: keep-all;
					hyphens: auto;
					cursor: pointer;
					color: currentColor;
					
					.rheroicons {
						position: absolute;
						opacity: 0;
						top: 4px;
						left: -28px;
					}
				}

				&:checked {
					+ .card-label {
						color: #ffffff;
						
						.rheroicons {
							opacity: 1;
						}
					}
				}

				&:focus {
					+ .card-label {
						box-shadow: inset 0 -2px 0 0 $primary;
					}
				}
			}

			// toggle
			.card-toggle {
				position: absolute;
				top: 20px;
				right: 24px;
				padding: 6px;
				margin: 0;
				border-radius: 50%;
				background-color: transparent;

				// toggle icon
				.rheroicons {
					display: block;
					position: relative;
					width: 24px;
					height: 24px;
					transform: translateY(0);
					transition: transform 0.4s ease-in-out;

					@media (prefers-reduced-motion) {
						transition-duration: 1ms;
					}
				}

				// when icon is rotated
				&.rotated {
					color: currentColor;

					// rotate icon
					.rheroicons {
						transform: translateY(-3px) rotate(-180deg);
					}
				}

				// hovered or focused
				&:hover,
				&:focus {
					background-color: $primary;
					color: #ffffff;
				}
			}

			// content
			.card-content {
				color: currentColor;
				max-height: 2000px;
				display: none;

				// text
				p {
					padding: 0;
				}
			}

			// hover for side effect cards
			&:hover {
				border-color: $primary;
			}

			// styling for when a side effect is selected
			&.selected {
				background-color: $primary;

				.card-input,
				.card-content p {
					color: white;
				}

				.card-input::before {
					opacity: 1;
				}

				.card-toggle {
					.rheroicons {
						color: white;
					}
				}
			}
		}
	}

	// styling for medication cards, i.e., results
	&.medication-cards {
		padding: 0;
		counter-reset: medications;

		.card {
			text-align: left;
			width: 70%;

			// icons + labels
			.rheroicons,
			.card-label {
				display: inline-block;
				padding: 8px 0;
			}

			// icons
			.rheroicons {
				position: absolute;
				width: 30px;
				height: 30px;
				top: 16px;
				left: 24px;
				margin: 0;

				// icons for recommended medications
				&.rheroicons_check {
					stroke: $green;
				}

				// icons for avoid medications
				&.rheroicons_exclamation {
					fill: $error;
				}
			}

			// labels
			.card-label {
				margin: 0;
				padding: 0;
				margin-left: 32px;

				// counter
				&::before {
					counter-increment: medications;
					content: counter(medications) ". ";
				}
			}
		}
	}
}

@media (min-width: 512px) {
	// set widths for card sets
	.card-group {
		&.side-effect-cards {
			.card {
				max-width: 512px;
			}
		}
		&.medication-cards {
			.card {
				max-width: 512px;
			}
		}
	}
}

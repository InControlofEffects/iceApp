!function(){function addCSS(elem,css){document.querySelector(elem).classList.add(css)}function clearInputs(elems){const inputs=document.querySelectorAll(elems);inputs.forEach(input=>input.value="")}function consoleLog(value,asDir){asDir?console.dir(value):console.log(value)}function removeCSS(elem,css){document.querySelector(elem).classList.remove(css)}function toggleCSS(elem,css){document.querySelector(elem).classList.toggle(css)}function innerHTML(elem,string,delay){delay?setTimeout((function(){document.querySelector(elem).innerHTML=string}),delay):document.querySelector(elem).innerHTML=string}function setElementAttribute(elem,attr,value){document.querySelector(elem).setAttribute(attr,value)}function refreshPage(){history.go(0)}function scrollToTop(){window.scrollTo(0,0)}function showElem(id){const el=document.getElementById(id);el.classList.remove("hidden"),el.removeAttribute("hidden")}function hideElem(id){const el=document.getElementById(id);el.classList.add("hidden"),el.setAttribute("hidden",!0)}Shiny.addCustomMessageHandler("addCSS",(function(value){addCSS(value[0],value[1])})),Shiny.addCustomMessageHandler("clearInputs",(function(value){clearInputs(value)})),Shiny.addCustomMessageHandler("consoleLog",(function(value){consoleLog(value[0],value[1])})),Shiny.addCustomMessageHandler("innerHTML",(function(value){innerHTML(value[0],value[1],value[2])})),Shiny.addCustomMessageHandler("refreshPage",(function(event){refreshPage()})),Shiny.addCustomMessageHandler("removeCSS",(function(value){removeCSS(value[0],value[1])})),Shiny.addCustomMessageHandler("setElementAttribute",(function(value){setElementAttribute(value[0],value[1],value[2])})),Shiny.addCustomMessageHandler("toggleCSS",(function(value){toggleCSS(value[0],value[1])})),Shiny.addCustomMessageHandler("hideElem",(function(value){hideElem(value[0],value[1])})),Shiny.addCustomMessageHandler("showElem",(function(value){showElem(value[0],value[1])})),Shiny.addCustomMessageHandler("scrollToTop",(function(value){scrollToTop()}))}();const utils=function(){const resetSideEffects=function(){var cards=document.querySelectorAll(".side-effect-cards .card"),definitions=document.querySelectorAll(".card-content"),toggles=document.querySelectorAll(".card-toggle");cards.forEach((function(card){card.classList.remove("focused"),card.classList.remove("selected")})),definitions.forEach((function(def){def.classList.remove("expanded"),def.setAttribute("hidden","")})),toggles.forEach((function(toggle){toggle.classList.remove("rotated"),toggle.setAttribute("aria-expanded",!1)}))},toggleDefinitions=function(){var toggles;document.querySelectorAll(".card-toggle").forEach((function(toggle){var index=0;toggle.addEventListener("click",(function(){var content=this.parentNode.querySelector(".card-content");this.classList.toggle("rotated"),content.classList.toggle("expanded"),0===index?(this.setAttribute("aria-expanded",!0),content.removeAttribute("hidden"),index=1):(this.setAttribute("aria-expanded",!1),content.setAttribute("hidden",""),index=0)}))}))},toggleSelection=function(){var cards=document.querySelectorAll(".card"),inputs=document.querySelectorAll(".checkboxes"),lastInputIndex,lastInput=inputs[inputs.length-1];inputs.forEach((function(input){input.addEventListener("focus",(function(){cards.forEach((function(card){card.classList.remove("focused")})),this.parentNode.parentNode.classList.add("focused")})),input.addEventListener("input",(function(){this.parentNode.parentNode.classList.toggle("selected")}))})),lastInput.addEventListener("blur",(function(){this.parentNode.parentNode.classList.remove("focused")}))},updateProgressBar=function(value){var direction=value[0],maxpages=value[1],currentPage=value[2],pb=document.getElementById("bar"),refElem,width=document.querySelector("body").getBoundingClientRect().width,percentComplete=Math.round(currentPage/maxpages*100),rate,percent=width/maxpages/width,currentPercent;-1===direction?(currentPercent=percent*currentPage,pb.style.transform="scaleX("+currentPercent+")",pb.setAttribute("aria-valuenow",percentComplete),pb.setAttribute("aria-valuetext","On page "+currentPage+" of "+maxpages+"; "+percentComplete+"% complete")):1===direction?(currentPercent=percent*currentPage,pb.style.transform="scaleX("+currentPercent+")",pb.setAttribute("aria-valuenow",percentComplete),pb.setAttribute("aria-valuetext","On page "+currentPage+" of "+maxpages+"; "+percentComplete+"% complete")):0===direction?(currentPercent=percent,pb.style.transform="scaleX("+currentPercent+")",pb.setAttribute("aria-valuenow",percentComplete),pb.setAttribute("aria-valuetext","On page "+currentPage+" of "+maxpages+"; "+percentComplete+"% complete")):console.error("ERROR in function 'updateProgressBar', direction is not valid"),document.title="In Control of Effects | Page "+currentPage};return{resetSideEffects:resetSideEffects,toggleDefinitions:toggleDefinitions,toggleSelection:toggleSelection,updateProgressBar:updateProgressBar}}();Shiny.addCustomMessageHandler("resetSideEffects",(function(event){utils.resetSideEffects()})),Shiny.addCustomMessageHandler("updateProgressBar",(function(value){setTimeout((function(){utils.updateProgressBar(value)}),50)}));
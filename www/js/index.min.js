const utils=function(){const resetSideEffects=function(){var cards=document.querySelectorAll(".side-effect-cards .card"),definitions=document.querySelectorAll(".card-content"),toggles=document.querySelectorAll(".card-toggle");cards.forEach((function(card){card.classList.remove("focused"),card.classList.remove("selected")})),definitions.forEach((function(def){def.classList.remove("expanded"),def.setAttribute("hidden","")})),toggles.forEach((function(toggle){toggle.classList.remove("rotated"),toggle.setAttribute("aria-expanded",!1)}))},toggleDefinitions=function(){var toggles;document.querySelectorAll(".card-toggle").forEach((function(toggle){var index=0;toggle.addEventListener("click",(function(){var content=this.parentNode.querySelector(".card-content");this.classList.toggle("rotated"),content.classList.toggle("expanded"),0===index?(this.setAttribute("aria-expanded",!0),content.removeAttribute("hidden"),index=1):(this.setAttribute("aria-expanded",!1),content.setAttribute("hidden",""),index=0)}))}))},toggleSelection=function(){var cards=document.querySelectorAll(".card"),inputs=document.querySelectorAll(".checkboxes"),lastInputIndex,lastInput=inputs[inputs.length-1];inputs.forEach((function(input){input.addEventListener("focus",(function(){cards.forEach((function(card){card.classList.remove("focused")})),this.parentNode.parentNode.classList.add("focused")})),input.addEventListener("input",(function(){this.parentNode.parentNode.classList.toggle("selected")}))})),lastInput.addEventListener("blur",(function(){this.parentNode.parentNode.classList.remove("focused")}))},updateProgressBar=function(value){var direction=value[0],maxpages=value[1],currentPage=value[2],pb=document.getElementById("bar"),refElem,width=document.querySelector("body").getBoundingClientRect().width,percentComplete=Math.round(currentPage/maxpages*100),rate,percent=width/maxpages/width,currentPercent;-1===direction?(currentPercent=percent*currentPage,pb.style.transform="scaleX("+currentPercent+")",pb.setAttribute("aria-valuenow",percentComplete),pb.setAttribute("aria-valuetext","On page "+currentPage+" of "+maxpages+"; "+percentComplete+"% complete")):1===direction?(currentPercent=percent*currentPage,pb.style.transform="scaleX("+currentPercent+")",pb.setAttribute("aria-valuenow",percentComplete),pb.setAttribute("aria-valuetext","On page "+currentPage+" of "+maxpages+"; "+percentComplete+"% complete")):0===direction?(currentPercent=percent,pb.style.transform="scaleX("+currentPercent+")",pb.setAttribute("aria-valuenow",percentComplete),pb.setAttribute("aria-valuetext","On page "+currentPage+" of "+maxpages+"; "+percentComplete+"% complete")):console.error("ERROR in function 'updateProgressBar', direction is not valid"),document.title="In Control of Effects | Page "+currentPage};return{resetSideEffects:resetSideEffects,toggleDefinitions:toggleDefinitions,toggleSelection:toggleSelection,updateProgressBar:updateProgressBar}}();Shiny.addCustomMessageHandler("resetSideEffects",(function(event){utils.resetSideEffects()})),Shiny.addCustomMessageHandler("updateProgressBar",(function(value){setTimeout((function(){utils.updateProgressBar(value)}),50)}));